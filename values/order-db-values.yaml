global:
  postgresql:
    auth:
      username: "order_user"
      password: "order_pass"
      database: "order_db"
      existingSecret: ""
      secretKeys:
        userPasswordKey: "order_pass"
    servicePort: 5432

architecture: standalone

image:
  registry: docker.io
  repository: postgres
  tag: 17.6.0
  pullPolicy: IfNotPresent

persistence:
  enabled: true
  size: 8Gi
  storageClass: "standard"

primary:
  resources:
    requests:
      cpu: "500m"
      memory: "512Mi"
    limits:
      cpu: "1000m"
      memory: "1Gi"
  extendedConfiguration: |
    max_connections = 50
  extraEnvVars:
    - name: POSTGRES_USER_MONITORING
      value: "monitor_order"
    - name: POSTGRES_PASSWORD_MONITORING
      value: "monitor_pass"
  podAnnotations:
    prometheus.io/scrape: "true"
    prometheus.io/port: "9187"
    prometheus.io/path: "/metrics"
  metrics:
    enabled: true
    serviceMonitor:
      enabled: true
